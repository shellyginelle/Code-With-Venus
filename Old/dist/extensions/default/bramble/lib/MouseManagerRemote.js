(function(transport){"use strict";var SCROLL_KEY="___bramble-preview-scrollTop::"+window.___brambleFilename;var listening=false;function sendHighlightInfo(e){var x=e.pageX-window.pageXOffset;var y=e.pageY-window.pageYOffset;var elem=document.elementFromPoint(x,y);if(!elem){return}var ds=elem.dataset;if(!(ds.brambleStartLine&&ds.brambleStartCh&&ds.brambleEndLine&&ds.brambleEndCh)){return}var bracketsId=ds.bracketsId;if(bracketsId){bracketsId=","+bracketsId}transport.send("bramble-highlight-lines:"+ds.brambleStartLine+","+ds.brambleStartCh+","+ds.brambleEndLine+","+ds.brambleEndCh+bracketsId)}function shouldIgnoreElemEvent(e){var from=e.relatedTarget||e.toElement;if(!from||from.nodeName==="HTML"){if(e.clientX<=32||e.clientY<=32){return false}}return true}function startListener(){if(listening){return}addEventListener("mousemove",sendHighlightInfo,false);listening=true}function stopListener(){if(!listening){return}removeEventListener("mousemove",sendHighlightInfo,false);listening=false}addEventListener("DOMContentLoaded",function(){document.body.scrollTop=sessionStorage.getItem(SCROLL_KEY)|0;if(!transport){return}startListener();addEventListener("click",function(e){transport.send("bramble-inspector-disable");stopListener();sendHighlightInfo(e)});addEventListener("mouseout",function(e){if(!shouldIgnoreElemEvent(e)){startListener();return false}})},false);addEventListener("scroll",function(){sessionStorage.setItem(SCROLL_KEY,document.body.scrollTop)},false)})(window._Brackets_LiveDev_Transport);